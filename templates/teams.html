{% extends "base.html" %}

{% block content %}
<p>Teams are ranked by time to solve the metapuzzle, then total number of puzzles solved, then time of last solve.<br> Solve the metapuzzle to finish the hunt!</p>
        <table style="table-layout: fixed;">
            <col style="width: 5ch">
            <col style="width: 50ch">
            <col style="width: 20ch">
            <col style="width: 30ch">
            <tbody>
                <tr>
                    <th>Rank</th>
                    <th>Team</th>
                    <th>Puzzles Solved</th>
                    <th>Last/Meta Solve Time</th>
                </tr>
                {% for rank, team in teams %}
                <tr>
                    <td>{{ 1 + rank }}</td>
                    <td><a href="/teams/?{{ team['escaped_name'] }}">{{ team['team_name'] }}</a></td>
                    <td>{% if team['meta_solved'] == 1%}{{ team['total_solves'] - 1 }} + Meta{% else %}{{ team['total_solves'] }}{% endif %}</td>
                    <td>{% if team['meta_solved'] == 1%}{{ team['meta_solve_time'] }}{% else %}{{ team['solve_time'] }}{% endif %}</td>
                </tr>    
                {% endfor %}    
            </tbody>
        </table>
        {% endblock %}
